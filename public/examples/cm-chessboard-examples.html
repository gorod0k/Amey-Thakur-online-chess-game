<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>cm-chessboard</title>
    <link rel="stylesheet" href="assets/chessboard.css"/>
    <link rel="stylesheet" href="styles/examples.css"/>
    <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0"/>
</head>
<body>

<a href="validate-moves.html"> Basic: move validation and promotion dialog</a>

 <br>
 	
<a href="responsive-board.html"> responsive board</a>
        
        <br>
        	
        <br>
        
        <a href="pieces-animation.html">Set different positions, animation</a>
        
        <br>
        	
       <a href="different-styles.html">Different styles </a>
       
       <br>
       
        <a href="pointer-events.html">??? Pointer events on squares</a> ðŸ†•
        
        <br>
        
        <li><a href="destroy-many-boards.html">Stress test, 5000 boards created and destroyed</a>
        
        <br>
    
    <ul>
        <li><a href="extensions/markers-extension.html">Markers extension</a></li>
        <li><a href="extensions/arrows-extension.html">Arrows extension</a></li>
        <li><a href="extensions/html-layer-extension.html">HTML Layer extension</a></li>
        <li><a href="extensions/promotion-dialog-extension.html">PromotionDialog extension</a></li>
        <li><a href="extensions/accessibility-extension.html">Accessibility extension</a></li>
    </ul>
</div>
<h2>Chessboard</h2>
<div class="board" id="board"></div>
<script type="module">
    import {Chessboard} from "./src/Chessboard.js"
    import {FEN} from "./src/model/Position.js"
    import {Chess} from "https://cdn.jsdelivr.net/npm/chess.mjs@1/src/chess.mjs/Chess.js"

    const chess = new Chess()
    const board = new Chessboard(document.getElementById("board"), {
        position: FEN.start
    })
    const interval = setInterval(() => {
        makeRandomMove()
        board.setPosition(chess.fen(), true)
    }, 500)
    function makeRandomMove() {
        if(chess.game_over()) {
            chess.reset()
        }
        const possibleMoves = chess.moves()
        if (possibleMoves.length === 0) {
            clearInterval(interval)
            return
        }
        const randomIndex = Math.floor(Math.random() * possibleMoves.length)
        chess.move(possibleMoves[randomIndex])
    }
</script>
<div class="clearfix"></div>
